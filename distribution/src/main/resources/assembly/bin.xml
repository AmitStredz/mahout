
<assembly xmlns="http://maven.apache.org/ASSEMBLY/2.0.0"
          xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
          xsi:schemaLocation="http://maven.apache.org/ASSEMBLY/2.0.0 http://maven.apache.org/xsd/assembly-2.0.0.xsd">

<id>bin</id>

<formats>
    <format>tar.gz</format>
    <format>tar.bz2</format>
</formats>

<includeBaseDirectory>true</includeBaseDirectory>


<fileSets>

    <!-- copy files from the base directory, including the base
    Dockerfile, which prepares builds Mahout and downloads builds and installs
    the appropriate spark version Spark. No version of Hadoop is currently included.-->

    <fileSet>
        <directory>${basedir}/../../</directory>
        <outputDirectory></outputDirectory>
        <includes>
            <include>**README*</include>
            <include>**LICENSE*</include>
            <include>**NOTICE*</include>
            <include>**pom.xml*</include>
            <include>**Dockerfile*</include>
            <include>**entrypoint.sh*</include>
        </includes>
    </fileSet>
    <fileSet>
        <directory>${basedir}/../../lib</directory>
        <outputDirectory>lib/</outputDirectory>
        <useDefaultExcludes>true</useDefaultExcludes>
        <fileMode>0755</fileMode>
        <directoryMode>0755</directoryMode>
        <includes>
           <include>*.jar</include>
        </includes>
    </fileSet>

    <!-- copy aggregated documentation into docs-->
    <fileSet>
        <directory>${basedir}/../../site</directory>
        <outputDirectory>docs</outputDirectory>
    </fileSet>

    <!--copy bin/mahout.sh and other scripts -->
    <fileSet>
        <directory>${basedir}/../../bin</directory>
        <fileMode>755</fileMode>
        <directoryMode>755</directoryMode>
        <outputDirectory>bin</outputDirectory>
        <useDefaultExcludes>true</useDefaultExcludes>
    </fileSet>

    <!-- copy and include the jars from e.g. $MAHOUT_HOME/engine/spark/target/-->
    <!-- copy and include the jars from e.g. $MAHOUT_HOME/community/spark-cli-drivers/target/-->
    <fileSet>
        <directory>${basedir}/../../**/**/target/*.jar</directory>
        <outputDirectory>lib</outputDirectory>
        <useDefaultExcludes>true</useDefaultExcludes>
        <fileMode>755</fileMode>
        <directoryMode>755</directoryMode>
        <includes>
            <include>*.jar</include>
        </includes>
    </fileSet>

    <!-- copy and include the jars from e.g. $MAHOUT_HOME/core/target/-->
    <fileSet>
        <directory>${basedir}/../../**/target/*.jar</directory>
        <outputDirectory>lib</outputDirectory>
        <useDefaultExcludes>true</useDefaultExcludes>
        <fileMode>755</fileMode>
        <directoryMode>755</directoryMode>
        <includes>
            <include>*.jar</include>
        </includes>
    </fileSet>
    <fileSet>
        <directory>${basedir}/../../examples/bin</directory>
        <outputDirectory>examples/bin/</outputDirectory>
        <useDefaultExcludes>true</useDefaultExcludes>
        <fileMode>755</fileMode>
        <directoryMode>755</directoryMode>
    </fileSet>
    <fileSet>
        <directory>${basedir}/../../examples/bin/resources</directory>
        <outputDirectory>examples/bin/resources</outputDirectory>
        <useDefaultExcludes>true</useDefaultExcludes>
        <fileMode>755</fileMode>
        <directoryMode>755</directoryMode>
    </fileSet>
  </fileSets>
</assembly>

